<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><% data.titlePage %>></title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <header>
      <nav>
        <ul
        style="
          display: flex;
          align-items: center;
          justify-content: space-evenly;
          list-style: none;
          padding: 10px 0;
          background-color: black;
        ">
          <li><a class="btn btn-outline-secondary" href="/">Accueil</a></li>
          <li><a class="btn btn-outline-primary" href="/game">Jouer</a></li>
          <% if ( data.loginAdmin ) { %>
          <li><a class="btn btn-outline-warning" href="/admin/config">Accès configuration</a></li>
          <li><a class="btn btn-outline-danger" href="/logout">Déconnexion</a></li>
          <%} else { %>
          <li><a class="btn btn-outline-success" href="/admin">Connexion administrateur</a></li>
          <% } %>
        </ul>
      </nav>
    </header>
    <main class="container text-center">
      <h1><%= data.titlePage %></h1>

      <div class="row col-8 mt-4 mx-auto">
        <div class="card shadow">

          <form action="/admin/config" class="card-body" method="post">
            <div class="form-floating mb-3">
              <input
                type="text"
                class="form-control"
                id="playerOne"
                name="playerOne"
                placeholder="joueur"
              />
              <label for="playerOne">Joueur</label>
            </div>

            <!-- <div class="form-floating mb-3">
              <input
                type="text"
                class="form-control"
                id="playerTwo"
                name="playerTwo"
                placeholder="Nom du joueur 2"
              />
              <label for="playerTwo">Joueur 2</label>
            </div> -->

            <div class="form-floating mb-3">
              <input
                type="text"
                class="form-control"
                id="objectName"
                name="objectName"
                placeholder="Objet à faire découvrir"
              />
              <label for="objectName">Objet</label>
            </div>

            <div class="form-floating mb-3">
              <input
                type="number"
                min="3"
                max="20"
                class="form-control"
                id="tentative"
                name="tentative"
                placeholder="0"
              />
              <label for="objectName">Tentative</label>
            </div>

            <div class="form-floating mb-3">
              <input
                type="text"
                class="form-control"
                id="objectValue"
                name="objectValue"
                placeholder="Prix de l'objet à faire découvrir"
              />
              <label for="objectValue">Prix</label>
            </div>

            <button
              type="submit"
              id="submitFormInitGame"
              class="btn btn-dark btn-lg"
              hidden
            >
              Lancer le jeu
            </button>
          </form>
        </div>
      </div>
    </main>
    <footer class="container text-center mt-5">By Alain</footer>
    <script>
      const playerOne = document.querySelector("#playerOne"),
        // playerTwo = document.querySelector("#playerTwo"),
        tentative = document.querySelector("#tentative"),
        objectValue = document.querySelector("#objectValue"),
        objectName = document.querySelector("#objectName");

      const onInput = (e) => {
        const submitButton = document.querySelector("#submitFormInitGame");

        // If all value are okay show the button
        // Else hide the button
        submitButton.hidden = !(
          playerOne.value !== "" &&
          // playerTwo.value !== "" &&
          tentative.value !== "" &&
          objectValue.value !== "" &&
          objectName.value !== ""
        );
      };

      // Add same function for multiple events
      playerOne.addEventListener("input", onInput);
      // playerTwo.addEventListener("input", onInput);
      tentative.addEventListener("input", onInput);
      objectValue.addEventListener("input", onInput);
      objectName.addEventListener("input", onInput);
    </script>
  </body>
</html>
